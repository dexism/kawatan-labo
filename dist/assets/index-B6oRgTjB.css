html,body{width:100%;height:100vh;margin:0;padding:0;box-sizing:border-box;overflow:hidden}body{font-family:sans-serif;font-size:1rem;background-color:var(--color-background-2);color:var(--color-text)}body.is-dragging{cursor:grabbing;-webkit-user-select:none;user-select:none}h2{margin-bottom:4px;font-size:1rem}#splash{position:fixed;top:0;left:0;width:100%;height:100%;padding-top:30vh;background-color:var(--color-background-1);color:var(--color-fore-1);display:flex;justify-content:start;align-items:center;font-weight:700;text-align:center;flex-direction:column;z-index:1000;transition:all 1s}#splash h1{display:block;font-size:2rem;margin:0;padding:0}#splash h2{display:block;font-size:1.4rem;margin:0;padding:0}#splash.fade-out{opacity:0;pointer-events:none}:root{accent-color:auto;--header-width: 100px;--cell-width: 40px;--cell-height: 40px;--right-width: 340px;--card-size: 160px;--spacing-small: 5px;--spacing-medium: 10px;--border-radius-small: 5px;--border-radius-medium: 10px;--list-item-size: 100px;--font-size-small: 12px;--font-size-medium: 14px;--font-size-large: 16px;--color-0: #000;--color-1: #111;--color-2: #222;--color-3: #333;--color-4: #444;--color-5: #555;--color-6: #666;--color-7: #777;--color-8: #888;--color-9: #999;--color-a: #aaa;--color-b: #bbb;--color-c: #ccc;--color-d: #ddd;--color-e: #eee;--color-f: #fff;--color-shadow: rgba(0, 0, 0, .5);--color-naraku: #500;--color-jigoku: #300;--color-rengoku: #111;--color-hanazono: #222;--color-rakuen: #444;--color-text: var(--color-3);--color-text-2: var(--color-5);--color-text-3: var(--color-1);--color-text-light: var(--color-e);--color-text-muted: var(--color-7);--color-fore-1: var(--color-0);--color-fore-2: var(--color-1);--color-fore-3: var(--color-2);--color-fore-4: var(--color-3);--color-fore-5: var(--color-4);--color-fore-6: var(--color-5);--color-fore-7: var(--color-6);--color-background-1: var(--color-f);--color-background-2: var(--color-e);--color-background-3: var(--color-d);--color-background-4: var(--color-c);--color-background-5: var(--color-b);--color-background-6: var(--color-a);--color-background-7: var(--color-9);--color-panel: var(--color-c);--color-surface-1: var(--color-d);--color-surface-2: var(--color-e);--color-surface-dark: var(--color-a);--color-log-bg: var(--color-f);--color-border: var(--color-a);--color-shadow-1: rgba(255, 255, 255, .5);--color-accent: #f77;--color-accent-red: #c33;--color-accent-gold: gold;--color-accent-cyan: cyan;--color-accent-blue: #36c;--color-card: var(--color-d);--color-title-text: var(--color-d);--color-title-bg: #600;--color-footer-bg: #edd;--color-sub-text: var(--color-6);--color-sub-bg: var(--color-c);--color-btn-text: var(--color-8);--color-btn-bg: var(--color-f);--color-level-1: rgba(0, 0, 0, .1);--color-level-3: rgba(0, 0, 0, .3);--color-level-f: rgba(255, 255, 255, .5);--color-move: #aed6f1;--color-staffing: #85C1E9;--color-attack: #f5b7b1;--color-defense: #a3e4d7;--color-support: #d7bde2;--color-debuff: #f9e79f;--color-action-boost: #a2d9ce;--color-heal: #f5cba7;--color-utility: #d5d8dc;--color-sacrifice: #e6b0aa;--color-enhancement: #FAD7A0;--color-vulnerability:#D98880;--color-dialogue: #E6D7B8;--color-reinforcement:#A9DFBF;--color-cost: #F5B041;--color-madness: #EC7063;--color-other: #abb2b9}html[data-theme=dark]{--color-text: var(--color-d);--color-text-2: var(--color-b);--color-text-3: var(--color-e);--color-text-light: var(--color-1);--color-text-muted: var(--color-8);--color-fore-1: var(--color-f);--color-fore-2: var(--color-e);--color-fore-3: var(--color-d);--color-fore-4: var(--color-c);--color-fore-5: var(--color-b);--color-fore-6: var(--color-a);--color-fore-7: var(--color-9);--color-background-1: var(--color-0);--color-background-2: var(--color-1);--color-background-3: var(--color-2);--color-background-4: var(--color-3);--color-background-5: var(--color-4);--color-background-6: var(--color-5);--color-background-7: var(--color-6);--color-panel: var(--color-3);--color-surface-1: var(--color-5);--color-surface-2: var(--color-4);--color-surface-dark: var(--color-2);--color-log-bg: var(--color-0);--color-border: var(--color-6);--color-shadow-1: rgba(0, 0, 0, .5);--color-accent: #a00;--color-accent-red: #ff5555;--color-accent-gold: #ffd700;--color-accent-cyan: #00ffff;--color-accent-blue: #58a6ff;--color-card: var(--color-6);--color-title-text: var(--color-8);--color-title-bg: #300;--color-footer-bg: #100;--color-sub-text: var(--color-8);--color-sub-bg: #200;--color-btn-text: var(--color-c);--color-btn-bg: var(--color-0);--color-level-1: rgba(255, 255, 255, .1);--color-level-3: rgba(255, 255, 255, .3);--color-level-f: rgba(0, 0, 0, .8);--color-move: #3a6b8c;--color-staffing: #2E86C1;--color-attack: #a65c58;--color-defense: #3d7f73;--color-support: #7a5b86;--color-debuff: #a68f3a;--color-action-boost: #3d7c70;--color-heal: #a6784a;--color-utility: #6b6e72;--color-sacrifice: #8c5c58;--color-enhancement: #a6823a;--color-vulnerability:#a15149;--color-dialogue: #7c7059;--color-reinforcement:#4e815d;--color-madness: #9c4942;--color-cost: #B9770E;--color-other: #5a6066}@media (prefers-color-scheme: dark){html:not([data-theme]){--color-text: var(--color-d);--color-text-2: var(--color-b);--color-text-3: var(--color-e);--color-text-light: var(--color-1);--color-text-muted: var(--color-8);--color-fore-1: var(--color-f);--color-fore-2: var(--color-e);--color-fore-3: var(--color-d);--color-fore-4: var(--color-c);--color-fore-5: var(--color-b);--color-fore-6: var(--color-a);--color-fore-7: var(--color-9);--color-background-1: var(--color-0);--color-background-2: var(--color-1);--color-background-3: var(--color-2);--color-background-4: var(--color-3);--color-background-5: var(--color-4);--color-background-6: var(--color-5);--color-background-7: var(--color-6);--color-panel: var(--color-3);--color-surface-1: var(--color-5);--color-surface-2: var(--color-4);--color-surface-dark: var(--color-2);--color-log-bg: var(--color-0);--color-border: var(--color-6);--color-shadow-1: rgba(0, 0, 0, .5);--color-accent: #a00;--color-accent-red: #ff5555;--color-accent-gold: #ffd700;--color-accent-cyan: #00ffff;--color-accent-blue: #58a6ff;--color-card: var(--color-6);--color-title-text: var(--color-8);--color-title-bg: #300;--color-footer-bg: #100;--color-sub-text: var(--color-8);--color-sub-bg: #200;--color-btn-text: var(--color-c);--color-btn-bg: var(--color-0);--color-level-1: rgba(255, 255, 255, .1);--color-level-3: rgba(255, 255, 255, .3);--color-level-f: rgba(0, 0, 0, .8);--color-move: #3a6b8c;--color-staffing: #2E86C1;--color-attack: #a65c58;--color-defense: #3d7f73;--color-support: #7a5b86;--color-debuff: #a68f3a;--color-action-boost: #3d7c70;--color-heal: #a6784a;--color-utility: #6b6e72;--color-sacrifice: #8c5c58;--color-enhancement: #a6823a;--color-vulnerability:#a15149;--color-dialogue: #7c7059;--color-reinforcement:#4e815d;--color-madness: #9c4942;--color-cost: #B9770E;--color-other: #5a6066}}*{scrollbar-width:thin;scrollbar-color:var(--color-text-muted) var(--color-surface-dark)}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background-color:var(--color-surface-dark);border-radius:4px}::-webkit-scrollbar-thumb{background-color:var(--color-text-muted);border-radius:4px;border:2px solid var(--color-surface-dark)}::-webkit-scrollbar-thumb:hover{background-color:var(--color-text-2)}#dice3d-container{position:fixed;background-color:transparent;top:0;left:0;width:100%;height:100%;z-index:9999;display:none;pointer-events:none;transition:all .2s}#dice3d-container.is-visible{display:block;pointer-events:auto}#dice3d-container canvas{display:block;width:100%;height:100%}.d-flex{display:flex}.flex-column{flex-direction:column}.align-items-center{align-items:center}.justify-content-center{justify-content:center}.text-center{text-align:center}.accordion-header{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:space-between;width:100%}.accordion-header:after{content:"â–²";transition:all 1s ease;flex-shrink:0;padding:0;margin:0;font-size:.8em}.accordion-content{max-height:500px;overflow:hidden;transition:all .3s ease}.accordion-container.is-closed>.accordion-content{max-height:0;padding-top:0;padding-bottom:0;border-top-width:0;border-bottom-width:0;overflow:hidden}.accordion-container.is-closed>.accordion-header:after{transform:rotate(-180deg)}.btn{display:inline-flex;justify-content:center;align-items:center;padding:8px 12px;font-weight:700;background-color:var(--color-background-2);color:var(--color-text);border:1px solid var(--color-border);border-radius:var(--border-radius-small);cursor:pointer;transition:all .2s}.btn:hover:not(:disabled){opacity:.8}.btn:disabled{cursor:not-allowed;opacity:.6}body{display:grid;grid-template-areas:"header" "main";grid-template-columns:1fr;grid-template-rows:auto 1fr;align-content:start;overflow-y:hidden}.hide-on-mobile{display:inline}.app-header{grid-area:header;background-color:var(--color-title-bg);color:var(--color-title-text);margin:0;padding:5px 10px;box-sizing:border-box;box-shadow:0 0 10px #000;z-index:70;font-size:.9rem;position:sticky;top:0}.app-header h1{font-size:.9rem;margin:0;padding:0}.app-footer{grid-area:footer;background-color:var(--color-background-2);background-color:var(--color-footer-bg);color:var(--color-sub-text);margin:0;padding:10px;box-sizing:border-box;text-align:center;font-size:.6rem}.credit-info{font-size:.6rem}.version-info{color:var(--color-sub-text);margin:0;padding:10px;text-align:center;height:100%;font-size:.5rem}.main-container{grid-area:main;display:grid;grid-template-columns:1fr var(--right-width);grid-template-rows:1fr;grid-template-areas:"left right";gap:0;margin:0;padding:0;box-sizing:border-box;flex:1;flex-shrink:0;flex-direction:column;min-width:0;align-items:start;grid-auto-rows:auto;align-content:start;overflow-y:auto}.left-column{grid-area:left;display:grid;grid-template-columns:1fr;grid-template-rows:auto auto 1fr;grid-template-areas:"enemy" "battle" "player";height:100%;margin:0;padding:0;gap:0;box-sizing:border-box;overflow-y:auto}.right-column{grid-area:right;display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto auto auto auto 1fr auto auto;grid-template-areas:"status" "timing" "rapid" "judge" "action" "damage" "log" "settings" "footer";align-content:start;margin:0;padding:0;gap:0;box-sizing:border-box;box-shadow:0 0 10px #000;height:100%;z-index:60;overflow-y:auto}.grid-area-enemy-panel{grid-area:enemy;min-width:0;margin:0;padding:0;box-sizing:border-box}.grid-area-battle-panel{grid-area:battle;min-width:0;margin:0;padding:0 5px;box-sizing:border-box}.grid-area-pc-panel{grid-area:player;min-width:0;height:100%;margin:0;padding:0;box-sizing:border-box}.grid-area-status-panel{grid-area:status;z-index:80}.grid-area-timing-panel{grid-area:timing;position:sticky;top:0;z-index:90}.grid-area-rapid-panel{grid-area:rapid}.grid-area-judge-panel{grid-area:judge}.grid-area-action-panel{grid-area:action}.grid-area-damage-panel{grid-area:damage}.grid-area-log-panel{grid-area:log;margin-bottom:5px;height:100%}.grid-area-settings-panel{grid-area:settings;z-index:90}@media screen and (max-width: 768px){.app-header{box-shadow:none;z-index:90}.app-header h1{font-size:.7rem}.main-container{display:grid;grid-template-areas:"status" "enemy" "battle" "player" "rapid" "judge" "action" "damage" "log" "timing" "settings" "footer";grid-template-columns:1fr;grid-template-rows:auto auto auto auto auto auto auto auto 1fr auto auto auto;align-content:start;width:100%;min-width:0}.grid-area-status-panel{position:sticky;top:0;box-shadow:0 0 10px #000}.grid-area-timing-panel{position:sticky;bottom:0;border:none;box-shadow:0 0 10px #000}.left-column,.right-column{display:contents}.responsive-item{display:block}.hide-on-mobile{display:none}}.grid-area-enemy-panel h2.section-title,.grid-area-pc-panel h2.section-title{justify-content:center}.char-area-wrapper{display:flex;align-items:center;width:100%;margin:0;padding:0;box-sizing:border-box}.char-container{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:center;overflow:auto hidden;-webkit-overflow-scrolling:touch;cursor:grab;gap:15px;margin:0;padding:20px;box-sizing:border-box}.char-container::-webkit-scrollbar{display:none}.char{position:relative;width:var(--card-size);height:calc(1.4 * var(--card-size));flex-shrink:0;text-align:center;background-color:var(--color-background-1);border:none;border-radius:10px;margin:0;padding:5px;box-sizing:border-box;box-shadow:0 0 10px var(--color-8);transition:all .2s ease-out;overflow:visible}.char img{width:100%;margin-top:15px;aspect-ratio:1 / 1;object-fit:contain;border-radius:7px}.char-img-container{position:relative}.char-area-name{position:absolute;top:0;left:50%;transform:translate(-50%);opacity:.7;color:#fff;text-shadow:0 0 3px black;font-size:13px;font-weight:700;padding:0 8px 3px;border-radius:0 0 10px 10px;z-index:6;white-space:nowrap}.area-color-naraku{background-color:var(--color-naraku)}.area-color-jigoku{background-color:var(--color-jigoku)}.area-color-rengoku{background-color:var(--color-rengoku)}.area-color-hanazono{background-color:var(--color-hanazono)}.area-color-rakuen{background-color:var(--color-rakuen)}.char-name-overlay{position:absolute;bottom:0;left:50%;transform:translate(-50%);color:#fff;background-color:#000000b3;text-shadow:0 0 3px black;font-size:13px;font-weight:700;padding:1px 8px 2px;border-radius:10px 10px 0 0;z-index:6;white-space:nowrap}.char-action-display{position:absolute;top:2px;left:8px;z-index:5;pointer-events:none;text-align:left}.char-action-value{font-size:26px;font-weight:700;line-height:1.2;text-shadow:0 0 4px black,0 0 4px black,0 0 4px black;color:red}.char-action-subtext{font-size:11px;font-weight:700;line-height:1.2;text-shadow:0 0 2px var(--color-background-1),0 0 2px var(--color-background-1),0 0 2px var(--color-background-1),0 0 2px var(--color-background-1);color:var(--color-fore-3)}.char-parts-count{position:absolute;top:2px;right:8px;font-size:26px;font-weight:700;line-height:1.2;text-shadow:0 0 6px black,0 0 6px black,0 0 6px black;color:#0ff;pointer-events:none;z-index:5}.char-stack-count{position:absolute;top:5px;right:5px;padding:0 4px;border-radius:20px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:700;background-color:#36c;color:#fff;border:2px solid white;text-shadow:0 0 3px black;box-shadow:0 -2px 5px inset #000,0 2px 5px inset #fff,0 1px 3px #000;z-index:6}.char-madness{position:absolute;bottom:24px;left:5px;z-index:5;pointer-events:none}.char-madness div{font-size:9px;font-weight:700;line-height:14px;white-space:nowrap;text-align:left;text-shadow:-1px -1px 2px red,1px -1px 2px red,-1px 1px 2px red,1px 1px 2px red;color:#300}.char-madness div.is-madness{text-shadow:0 0 4px black,0 0 4px black;color:red}.char-parts-status{position:absolute;bottom:24px;right:5px;z-index:5;pointer-events:none}.char-parts-status div{font-size:9px;font-weight:700;line-height:14px;white-space:nowrap;text-align:right;text-shadow:-1px -1px 2px cyan,1px -1px 2px cyan,-1px 1px 2px cyan,1px 1px 2px cyan;color:#033}.char.is-inactive:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000004d;border-radius:10px;z-index:7}.highlight-char{box-shadow:0 0 20px gold,0 0 20px gold;background:gold;outline:2px solid yellow;transform:scale(1.05);z-index:100}.target-selectable{cursor:crosshair;outline:2px solid limegreen;box-shadow:0 0 20px #32cd32;background:#dfd;transform:scale(1.05);z-index:100}.hover-highlight{box-shadow:0 0 15px #0ff;background:#dff;outline:2px solid cyan;transform:scale(1.1);z-index:101}body.is-dragging .char.hover-highlight{transform:scale(1)}.is-targeted{outline:3px solid red;box-shadow:0 0 20px red!important;transform:scale(1.1)}.char-status-overlays{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;pointer-events:none;z-index:8;overflow:hidden}.status-tape{display:none;position:absolute;width:200%;padding:0;text-align:center;font-size:16px;font-weight:700;text-shadow:0 0 6px black;box-shadow:0 0 6px #000;border:0}.char-status-overlays.status-mental-collapse .status-tape-mental-collapse,.char-status-overlays.status-destroyed .status-tape-destroyed,.char-status-overlays.status-withdrawn .status-tape-withdrawn{display:block}.status-tape-mental-collapse{background-color:#3b9;color:#000;transform:rotate(-7deg);top:35%}.status-tape-destroyed{background-color:#000;color:#c21;transform:rotate(35deg);top:40%}.status-tape-withdrawn{background-color:#daa520;color:#000;transform:rotate(2deg);top:55%}.char-bubble-marker-container{position:absolute;bottom:35px;left:5px;width:100%;height:30px;display:flex;justify-content:start;align-items:center;gap:4px;pointer-events:none;z-index:10}.bubble-marker{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#fff;text-shadow:0 1px 4px black,0 1px 4px black;box-shadow:0 -2px 4px inset #000,0 2px 4px inset #fff,0 2px 4px #000;background-color:red;border:1px solid white;box-sizing:border-box}.char-action-marker-container{position:absolute;bottom:72px;left:0;width:100%;height:30px;display:flex;justify-content:center;align-items:center;gap:4px;pointer-events:none;z-index:10}.char-action-marker-container .bubble-marker{width:40px;height:28px;border-radius:20px;font-size:16px}.add-char-card{width:var(--card-size);height:calc(1.4 * var(--card-size));flex-shrink:0;border:4px dashed var(--color-text-muted);border-radius:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;align-content:center;cursor:pointer;color:var(--color-text-muted);margin:0;padding:0;box-sizing:border-box;transition:all .2s ease;font-weight:700}.add-char-card:hover{background:var(--color-surface-1);border-color:var(--color-text);color:var(--color-text)}.add-char-text-2{display:flex;font-size:26px;height:30px}.add-char-plus{font-size:50px;line-height:1}.add-char-text{display:flex;font-size:16px;height:30px}.card-actions-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--color-shadow);border-radius:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;opacity:0;transition:all .2s;pointer-events:none;z-index:200}.char.actions-visible .card-actions-overlay{opacity:1;pointer-events:auto}.char.actions-visible{box-shadow:0 0 20px gold,0 0 20px gold;outline:2px solid yellow;transform:scale(1.05)}.card-action-row{display:flex;gap:6px}.card-action-btn{border-radius:20px;min-width:40px;min-height:40px;padding:5px;font-size:14px;font-weight:700;cursor:pointer;box-shadow:0 0 10px gold,0 0 10px gold;background-color:gold;color:#000;border:3px solid yellow}.card-action-btn:hover{background-color:#ffa;transition:all .2s}.card-action-btn:disabled{opacity:.5;cursor:not-allowed;box-shadow:none;background-color:#fff;color:#000;border:2px solid #fff}.damage-prompt-container{position:absolute;bottom:105px;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:end;pointer-events:none;z-index:9}.damage-prompt-button{background-color:#ff0000b3;color:#fff;border:2px solid white;box-shadow:0 0 10px inset #000,0 0 10px #000;text-shadow:0 0 5px black,0 0 5px black;border-radius:10px;padding:0 10px;font-size:20px;font-weight:700;cursor:pointer;pointer-events:auto;transition:all .2s}.damage-prompt-button:hover{transform:scale(1.1);background-color:red}.battle-grid-scroll-wrapper{width:100%;padding:5px 0;margin:0;box-sizing:border-box;overflow:auto hidden;-webkit-overflow-scrolling:touch;position:relative;overscroll-behavior-x:contain}.battle-wrap{display:grid;grid-template-columns:var(--header-width) repeat(var(--col-count),minmax(var(--cell-width),auto));grid-template-rows:var(--cell-height) repeat(var(--row-count),minmax(var(--cell-height),auto));text-align:center;text-shadow:0 0 5px black,0 0 5px black;font-size:16px;font-weight:700;position:relative;transition:all .2s ease-out;background-color:var(--color-background-2);gap:3px}.current-action-cell{display:flex;align-items:center;justify-content:center;background-color:#222;color:#edd;grid-column:1;grid-row:1;position:sticky;left:0;border-radius:3px;z-index:3}.row-header{display:flex;align-items:center;justify-content:center;color:#c55;position:sticky;left:0;border-radius:3px;opacity:.9;z-index:19}.col-header{display:flex;align-items:center;justify-content:center;background:#333;color:#e33;position:sticky;border-radius:3px;z-index:2}.cell{display:flex;flex-direction:row;flex-wrap:wrap;flex-basis:fit-content;align-items:center;align-content:flex-start;justify-items:flex-start;justify-content:flex-start;overflow:visible;min-width:var(--cell-width);min-height:var(--cell-height);border-radius:3px;box-sizing:border-box;flex-shrink:0}.cell.cell-area-naraku{background-color:color-mix(in srgb,var(--color-naraku) 50%,transparent)}.cell.cell-area-jigoku{background-color:color-mix(in srgb,var(--color-jigoku) 50%,transparent)}.cell.cell-area-rengoku{background-color:color-mix(in srgb,var(--color-rengoku) 50%,transparent)}.cell.cell-area-hanazono{background-color:color-mix(in srgb,var(--color-hanazono) 50%,transparent)}.cell.cell-area-rakuen{background-color:color-mix(in srgb,var(--color-rakuen) 50%,transparent)}.cell.col-zero{background-color:#522}.cell.col-negative{background-color:#444}.highlight-col{background-color:#812;box-shadow:0 0 10px inset gold,0 0 10px gold;outline:2px solid yellow}.marker{position:relative;display:inline-block;align-items:center;justify-content:center;pointer-events:auto;margin:0;border-radius:5px;transition:all .2s ease;width:var(--cell-width);height:var(--cell-height);display:flex;flex-shrink:0}.marker-img{width:100%;height:100%;object-fit:contain;display:flex;z-index:1}.marker:after{content:attr(data-name);position:absolute;bottom:100%;left:50%;transform:translate(-50%);border-radius:5px;background:#000000b3;color:#eee;padding:0 5px;font-size:.8rem;white-space:pre;opacity:0;pointer-events:none;transition:all .2s;margin-bottom:4px;z-index:10}.marker:hover:after{opacity:1}.marker-stack-count{position:absolute;bottom:-5px;right:-5px;display:flex;align-items:center;justify-content:center;font-size:15px;font-weight:700;text-shadow:0 0 2px white,0 0 2px white,0 0 2px white,0 0 2px white;color:#25a;z-index:7;pointer-events:none}.section{background-color:var(--color-background-2);color:var(--color-text-2);padding:0 5px 5px}.section-title{font-size:.8rem;font-weight:700;display:flex;align-items:baseline}h2.section-title{padding:0 5px;margin:3px;width:auto}.status-grid{display:grid;grid-template-columns:1fr 50px 50px;gap:8px;padding-top:5px;text-align:center}@media screen and (max-width: 768px){.status-grid{grid-template-columns:1fr 50px}}.status-item{background:var(--color-surface-dark);padding:3px;border-radius:5px}.status-label{font-size:10px;color:var(--color-text-1);font-weight:400}.status-value{font-size:18px;font-weight:700;text-shadow:0 0 3px black,0 0 3px black,0 0 3px black,0 0 3px black;color:#b00}.phase-control-wrapper{padding-bottom:10px;display:flex;flex-direction:column}.indicator-container{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:5px;padding:5px}.control-container{display:grid;grid-template-columns:auto 1fr;gap:5px;padding:5px}.phase-indicator{font-size:10px;font-weight:700;border-radius:10px;border:0;background:var(--color-background-2);color:var(--color-text-muted);text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none;line-height:1.2;padding:5px}.phase-indicator.active{box-shadow:0 0 5px #0ff,0 0 20px #0ff;text-shadow:0 0 5px #0ff;background:#cff;color:#000;border:2px solid #0ff;z-index:100}.phase-btn{padding:8px 0;font-size:15px;border-radius:5px;width:100%;cursor:pointer;font-weight:700;box-shadow:0 0 10px gold,0 0 10px gold;background-color:gold;color:#000;border:2px solid yellow;transition:all .2s}.phase-btn:hover:not(:disabled){background-color:#ffa}.phase-btn:disabled{background:var(--color-surface-dark);color:var(--color-text-muted);border-color:transparent;cursor:default;opacity:.6;pointer-events:none;box-shadow:none}.action-queue-list{background-color:var(--color-log-bg);border:1px solid var(--color-border);border-radius:10px;padding:5px;font-size:12px;display:flex;flex-direction:column;gap:5px;overflow-y:auto;min-height:30px;max-height:400px;height:auto}.action-queue-list.is-stack-style{flex-direction:column-reverse}label.action-queue-item{background-color:var(--color-background-4);border:1px solid var(--color-border);border-radius:5px;padding:5px;min-height:30px;display:flex;align-items:center;font-weight:700;transition:all .2s ease-in-out}label.action-queue-item:not(.is-disabled){cursor:pointer;box-shadow:0 0 10px gold,0 0 10px gold;border-color:#ff0;color:#000;background-color:gold;z-index:100}label.action-queue-item:hover:not(.is-disabled){background-color:#ffa}label.action-queue-item.is-checked{background:#dec;border-color:#ac5}label.action-queue-item.is-checked span{color:#6a4}.action-queue-item input[type=checkbox]{margin-right:5px;color:#000}.log{display:flex;flex-direction:column;flex-grow:1;height:100%;font-size:14px;padding-bottom:10px;box-sizing:border-box}.log-entries-container{flex-grow:1;max-height:500px;background-color:var(--color-log-bg);border:1px solid var(--color-border);overflow-y:auto;padding:0 8px;border-radius:10px;min-height:200px;font-size:14px}.log-entry{padding-bottom:6px;margin-bottom:6px;border-bottom:1px solid var(--color-border);font-size:14px;font-weight:700}.log-entry:last-child{border-bottom:none;margin-bottom:0}.in-battle-controls{display:grid;grid-template-columns:1fr 1fr;gap:5px}.ref-btn{padding:8px 12px;font-size:1.2rem;border:none;box-shadow:none;background:none}.ref-btn:hover{background-color:var(--color-shadow)}#resetBattleBtn{display:grid;justify-content:center;justify-items:center;grid-template-columns:1fr;margin:10px;padding:5px 10px;font-size:14px;box-sizing:border-box}.phase-btn-danger{background-color:var(--color-accent-red);color:#fff;border-color:var(--color-accent-red);box-shadow:none;border:2px solid var(--color-accent-red)}.phase-btn-danger:hover:not(:disabled){background-color:gold;color:var(--color-accent-red)}.setup-phase #inBattleControls{display:none}.setup-phase #startBattleBtn{display:block}.battle-phase #startBattleBtn{display:none}.battle-phase #inBattleControls{display:grid}.dice-roller{position:fixed;top:30px;left:20px;width:50px;height:50px;background-color:var(--color-surface-1);border-radius:50%;display:flex;align-items:flex-start;justify-content:center;align-content:center;font-size:30px;cursor:grab;-webkit-user-select:none;user-select:none;z-index:900;box-shadow:2px 2px 8px #000;transition:all .2s ease-out}.dice-roller:hover{background-color:#dff;border:2px solid cyan;box-shadow:0 0 10px #0ff;transform:scale(1.1)}.dice-roller:active{cursor:grabbing}.maneuver-card{position:fixed;width:300px;background:var(--color-background-2);background-color:transparent;border-radius:10px;pointer-events:none;display:flex;font-size:12px;font-weight:700;z-index:2000}.card-category-bar{flex-shrink:0;width:24px;height:72px;left:-40px;writing-mode:sideways-lr;text-orientation:mixed;text-align:center;color:var(--color-text-3);font-weight:700;font-size:16px;padding:3px;border-radius:10px 0 0 10px;box-shadow:0 0 10px #000}.card-content{flex-grow:1;display:flex;flex-direction:column;border-radius:10px;box-shadow:0 0 10px #000}.card-source-header{background-color:var(--color-text-3);color:var(--color-text-light);border-radius:0 10px 0 0;font-weight:700;font-size:14px;padding:4px 8px 0}.card-header{display:flex;justify-content:space-between;align-items:center;padding:0 8px 4px;font-weight:700;background-color:var(--color-text-3);color:var(--color-text-light)}.card-location-text{font-weight:700;font-size:16px}.card-maneuver-name{font-size:18px}.card-stats{display:grid;grid-template-columns:1fr 1fr 1fr;text-align:center;background-color:var(--color-panel);font-weight:700;font-size:14px}.card-stats>div{padding:4px}.card-stats>div span{font-weight:700;margin-right:4px;font-size:12px;color:#c33}.card-row{background-color:var(--color-background-2);padding:4px 8px;font-size:12px;background-color:var(--color-surface-2);border-top:1px solid var(--color-border)}.card-row:last-child{border-radius:0 0 10px 10px}.card-row strong{color:#c33;font-size:12px;color:var(--color-accent-red);margin-right:8px;font-weight:700}.simple-menu-modal-backdrop{justify-content:center;align-items:center;pointer-events:auto}.simple-menu-modal-content{width:90%;max-width:200px;max-height:90%}.simple-menu-modal-body{display:flex;flex-direction:column;align-items:stretch;gap:5px;align-content:start;margin:0;padding:0;box-sizing:border-box;overflow-y:auto;justify-content:center;height:auto}.simple-menu-modal-body .maneuver-item{min-width:50%;text-align:center;font-size:16px;font-weight:700;margin:5px;padding:5px 20px;border-radius:10px;background-color:var(--color-6);color:var(--color-f);outline:2px solid gold;transition:all .2s ease}.simple-menu-modal-body .maneuver-item:not(.is-masked):hover{background-color:gold;color:#000}.simple-menu-modal-body .maneuver-item.is-masked{outline:none;opacity:.5;color:var(--color-c)}.simple-menu-modal-body .maneuver-item.area-color-naraku{background-color:var(--color-naraku)}.simple-menu-modal-body .maneuver-item.area-color-jigoku{background-color:var(--color-jigoku)}.simple-menu-modal-body .maneuver-item.area-color-rengoku{background-color:var(--color-rengoku)}.simple-menu-modal-body .maneuver-item.area-color-hanazono{background-color:var(--color-hanazono)}.simple-menu-modal-body .maneuver-item.area-color-rakuen{background-color:var(--color-rakuen)}.category-color-move{background-color:var(--color-move)}.category-color-staffing{background-color:var(--color-staffing)}.category-color-attack{background-color:var(--color-attack)}.category-color-defense{background-color:var(--color-defense)}.category-color-support{background-color:var(--color-support)}.category-color-debuff{background-color:var(--color-debuff)}.category-color-action-boost{background-color:var(--color-action-boost)}.category-color-heal{background-color:var(--color-heal)}.category-color-utility{background-color:var(--color-utility)}.category-color-sacrifice{background-color:var(--color-sacrifice)}.category-color-enhancement{background-color:var(--color-enhancement)}.category-color-vulnerability{background-color:var(--color-vulnerability)}.category-color-dialogue{background-color:var(--color-dialogue)}.category-color-reinforcement{background-color:var(--color-reinforcement)}.category-color-madness{background-color:var(--color-madness)}.category-color-cost{background-color:var(--color-cost)}.category-color-other{background-color:var(--color-other)}.maneuver-item{display:flex;align-items:center}.maneuver-item-content{display:flex;align-items:center;gap:8px}.maneuver-icon{font-size:1.2em}.maneuver-checkbox{appearance:none;-webkit-appearance:none;width:16px;height:16px;border:2px solid var(--color-text-muted);border-radius:3px;position:relative;cursor:pointer;flex-shrink:0}.maneuver-checkbox:checked{background-color:var(--color-accent-blue);border-color:var(--color-accent-blue)}.maneuver-checkbox:checked:after{content:"âœ”";font-size:14px;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#maneuverMenu{background-color:var(--color-background-3);color:var(--color-text-muted);padding:10px;font-size:14px;font-weight:700;overflow-y:auto;box-sizing:border-box;box-shadow:0 0 8px #000;position:fixed;visibility:hidden;display:flex;flex-direction:column;max-width:600px;height:fit-content;max-height:100%;border-radius:0 10px 10px 0;top:0;left:0;transform:translate(-100%);transition:all .2s ease-out;margin:0;z-index:1000}#maneuverMenu.is-visible{visibility:visible;transform:translate(0);transition:all .2s ease-out}.maneuver-menu-header{display:flex;justify-content:space-between;align-items:center;padding:0 10px;border-bottom:1px solid var(--color-border);border-radius:0;flex-shrink:0}.header-icon{font-size:24px;border-radius:10px;transition:all .2s;cursor:pointer}.header-icon:hover{background-color:var(--color-level-1)}.header-title{font-weight:700;font-size:16px;color:var(--color-fore-5)}.header-close-btn{background:none;border:none;font-size:20px;cursor:pointer;color:var(--color-text-muted);border-radius:50%;transition:all .2s}.header-close-btn:hover{background-color:var(--color-level-1)}.maneuver-menu-filter-bar{display:flex;flex-wrap:wrap;align-content:start;justify-content:center;align-items:center;justify-items:center;gap:10px;padding:10px;border-bottom:1px solid var(--color-border);flex-shrink:0}.filter-btn{font-size:14px}.filter-btn.is-active{background-color:gold;box-shadow:0 0 10px gold;color:#000}.maneuver-menu-list-container{overflow-y:auto;padding:5px;gap:10ps;cursor:default}.maneuver-item-new{margin-top:10px;background-color:var(--color-background-2);border-radius:10px;transition:all .2s;color:var(--color-fore-2);box-shadow:0 0 5px var(--color-5);display:flex;padding:0;gap:0;overflow:hidden}.item-category-col{writing-mode:sideways-lr;text-align:center;padding:4px 2px;font-size:14px;font-weight:700;color:var(--color-fore-4);flex-shrink:0}.item-icon-col{flex-shrink:0;width:24px;display:flex;align-items:center;justify-content:center;padding-left:4px;font-size:14px}.item-right-col{flex-grow:1;padding:8px}.maneuver-item-new.is-masked{color:var(--color-text-muted);cursor:not-allowed;background-color:var(--color-background-4)}.maneuver-item-new.is-damaged .item-name,.maneuver-item-new.is-damaged .item-stats,.maneuver-item-new.is-damaged .item-row-2{text-decoration:line-through;color:var(--color-accent-red)}.maneuver-item-new:not(.is-masked):hover{background-color:var(--color-surface-hover);outline-color:gold;background-color:gold;color:#000}.item-row-1{display:flex;justify-content:space-between;align-items:baseline}.item-name{font-size:18px}.item-stats{font-size:14px;white-space:nowrap}.item-row-2{font-size:14px;color:var(--color-fore-5);font-weight:400;margin-top:2px}.item-passive-icon-col{font-size:16px;padding:0}.item-status-icon-col{padding:0}.maneuver-group .group-header{font-weight:700;padding:8px;border-bottom:1px solid var(--color-border);color:var(--color-fore-5);font-size:20px;margin-top:5px}.active-buff-icon{display:flex;flex-direction:column;align-items:center;line-height:.9;font-size:14px}.item-icon-col{flex-shrink:0;width:24px;display:flex;align-items:center;justify-content:center}#maneuverMenu.is-reference-mode{width:100%;max-height:100%;pointer-events:auto}#maneuverMenu.is-reference-mode .item-passive-icon-col,#maneuverMenu.is-reference-mode .item-status-icon-col{display:none}#maneuverMenu.is-reference-mode .maneuver-item-new{width:100%;max-height:100%}#maneuverMenu .accordion-container{height:100%;margin:0;padding:5px 0;border-bottom:1px solid var(--color-border);box-sizing:border-box}.reference-filter-container{max-height:calc(50vh - 90px);display:flex;flex-direction:column;gap:0px;overflow-y:auto}#maneuverMenu .accordion-header{padding:5px;box-sizing:border-box;font-size:14px;font-weight:700;color:var(--color-text)}.filter-group{background-color:var(--color-background-4);border-radius:10px;margin:3px;padding:5px}.filter-group-title{margin:0;font-size:12px;color:var(--color-fore-5);padding:0 0 3px 3px}.filter-buttons{display:flex;flex-wrap:wrap;justify-content:start;gap:5px 10px}.filter-buttons .filter-btn{padding:4px 0;font-size:12px;border-radius:20px}#maneuverMenu.is-reference-mode .reference-item-container{display:block;row-gap:0px}#maneuverMenu.is-reference-mode .reference-item-container>span{white-space:nowrap;overflow:visible;text-overflow:ellipsis}.ref-container-top{display:flex;flex-direction:row-reverse;justify-content:space-between;align-items:start;flex-wrap:wrap}.ref-container{display:flex;justify-content:space-between;align-items:end;flex-wrap:wrap}.ref-source-category{display:flex;font-size:12px;font-weight:700;background-color:var(--color-fore-4);color:var(--color-background-2);margin-right:auto;padding:1px 8px;border-radius:10px;white-space:nowrap}.ref-source-info{display:flex;margin-left:auto;font-size:12px;font-weight:400;padding-left:4px;color:var(--color-8);white-space:nowrap}.item-location-prefix{font-size:14px;font-weight:700;border:1px solid var(--color-6);background-color:var(--color-accent-gold);color:var(--color-3);border-radius:15px;width:20px;height:20px;margin:0;padding:1px 4px}.ref-maneuver-name{display:flex;font-size:18px;font-weight:700;color:var(--color-text);text-align:left;display:inline-block;margin-right:auto}.ref-stats{display:flex;margin-left:auto;font-size:14px;color:var(--color-text);text-align:right;white-space:nowrap}.item-flavor-text{font-weight:400;font-style:italic;color:var(--color-8);margin-top:3px;padding-top:3px;border-top:1px dashed var(--color-border);font-size:13px;text-indent:1em}.filter-summary-group{margin-right:5px;background-color:var(--color-background-2);padding:0 7px 0 2px;border-radius:10px}.filter-summary-label{font-weight:400;font-size:9px;margin-right:5px;padding:0;color:var(--color-fore-6)}#maneuverMenu .accordion-header{display:flex;align-items:baseline;gap:0px;width:100%;overflow:hidden}.accordion-title-static{font-weight:700;font-size:14px;color:var(--color-text);flex-shrink:0}.accordion-title-dynamic{font-size:12px;font-weight:700;color:var(--color-fore-5);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;min-width:0}.malice-level{color:var(--color-accent);margin-left:5px}.has-copy-button{display:flex;justify-content:space-between;align-items:flex-start;gap:0px}.has-copy-button>span{flex-grow:1}.maneuver-item-new.is-reference-item:hover{background-color:var(--color-background-2);outline:none;color:var(--color-fore-2);cursor:default}.modal-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--color-shadow);backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);z-index:1000;display:flex;justify-content:center;align-items:center;padding:20px;box-sizing:border-box;opacity:0;visibility:hidden;transition:all .2s ease;pointer-events:none}.modal-backdrop.is-visible{opacity:1;visibility:visible;pointer-events:auto}.modal-backdrop:not(.is-not-closable){pointer-events:none}.modal-content{background-color:var(--color-background-2);color:var(--color-text);border-radius:10px;overflow:hidden;box-shadow:0 0 20px var(--color-fore-7);width:90%;max-width:700px;max-height:90%;height:auto;margin:0;gap:0;box-sizing:border-box;display:flex;flex-direction:column;align-content:stretch;justify-content:flex-start;align-items:stretch;position:absolute;pointer-events:auto;transform:translateY(100%);opacity:1;transition:all .2s ease-out;padding:10px}.modal-backdrop.is-visible .modal-content{transform:translateY(0);opacity:.9}.modal-header{display:flex;justify-content:space-between;align-items:center;box-sizing:border-box;margin:0;padding:0;border:none;color:var(--color-text);height:40px}.modal-header h2{width:100%;font-size:1.2rem;font-weight:700;text-align:center}.modal-header h3{font-size:1rem;font-weight:700;padding:10px}.close-btn{background:none;border:none;color:var(--color-text);font-size:20px;text-align:center;width:40px;height:40px;margin:0;padding:10px;cursor:pointer;border-radius:50%}.close-btn:hover{background-color:var(--color-level-1);transition:all .2s}.modal-footer{text-align:center;margin:0;padding:10px;border:none}.modal-body{flex-grow:1;overflow-y:auto;min-height:0;display:grid;grid-template-columns:repeat(auto-fill,var(--list-item-size));padding:0;font-size:.9rem;justify-content:center}.modal-body hr,.modal-content hr{width:90%;border:1px solid var(--color-level-3)}.undead-filter-container{grid-column:1 / -1;display:flex;flex-wrap:wrap;justify-content:space-evenly;gap:5px;padding:10px}.filter-btn{width:100px;padding:2px;background-color:var(--color-level-f);color:var(--color-btn-text);border:2px solid transparent;border-radius:40px;cursor:pointer;font-weight:700;transition:all .2s}.filter-btn:hover{border-color:gold;box-shadow:0 0 10px gold}.filter-btn.active{background-color:gold;box-shadow:0 0 10px gold;color:#000}.undead-list-container{grid-column:1 / -1;display:flex;flex-wrap:wrap;grid-template-columns:repeat(auto-fill,var(--list-item-size));gap:5px;padding:5px;overflow-y:auto;justify-content:space-evenly;border-radius:10px;background-color:var(--color-level-f);box-shadow:0 0 7px inset #000}.undead-list-item{width:var(--list-item-size);border-radius:10px;cursor:pointer;text-align:center;transition:all .2s;justify-content:center}.undead-list-item:hover{background-color:var(--color-text-muted);background-color:gold;color:#000;transition:all .2s}.undead-list-item img{width:var(--list-item-size);height:var(--list-item-size);aspect-ratio:1 / 1;object-fit:contain}.undead-list-item-name{font-weight:700;font-size:14px}#damageModal .modal-body{display:flex;flex-direction:column;gap:10px}#partsGridContainer{display:flex;flex-direction:column;gap:15px}.part-location-group{display:flex;align-items:flex-start;border-radius:5px;padding:10px;background-color:var(--color-surface-1)}.part-location-group h4{flex-shrink:0;width:30px;margin:5px 10px 0 0;text-align:center;font-size:20px;border-bottom:none;color:var(--color-text)}.parts-wrapper{flex-grow:1;display:flex;flex-wrap:wrap;gap:10px}.part-item{width:100px;padding:4px;border-radius:20px;border:3px solid #eee;background-color:#eee;color:#333;cursor:pointer;text-align:center;font-size:12px;font-weight:700}.part-item:hover{border-color:gold}.part-item.is-damaged{border:3px solid #d33;background-color:#bbb;color:#d33;text-decoration:line-through;cursor:not-allowed}.part-item.is-selected{border-color:gold;background-color:gold}#madnessModal .modal-body{height:auto;margin:0;padding:0;gap:0;box-sizing:border-box;overflow:auto;display:flex;flex-direction:column;flex-wrap:nowrap;align-content:stretch;justify-content:flex-start;align-items:stretch}.pc-regret-group{background-color:var(--color-surface-1);border:none;border-radius:10px;padding:10px 10px 0;gap:5px}.pc-regret-group h4{margin:0 0 10px;padding-bottom:5px;border-bottom:1px solid var(--color-border)}.regret-item{padding:5px 10px;margin-bottom:10px;border-radius:5px;background-color:var(--color-log-bg);border:none;cursor:pointer}.regret-item:hover{background-color:gold;color:#000;outline:2px solid gold}.regret-item.is-selected{background-color:var(--color-accent-red);color:#fff}.sheet-modal-content{display:flex;box-sizing:border-box}.sheet-modal-body{padding:10px;font-size:14px;display:flex;justify-content:center;align-items:flex-start;flex-direction:column;min-width:300px;align-items:start;align-content:start;max-height:90%;box-sizing:border-box}.sheet-grid-container{overflow-y:auto;display:grid;grid-template-columns:1fr;grid-template-areas:"image" "header" "basic" "enhancement" "hint" "memory" "regrets" "skills" "parts" "personal";gap:0;padding:0;font-size:14px;box-sizing:border-box}.sheet-img{grid-area:image;position:relative;align-items:center;margin:0;padding:10px}.sheet-img img{width:calc(3 * var(--list-item-size));height:calc(3 * var(--list-item-size));aspect-ratio:1 / 1;object-fit:contain;border-radius:5px}.sheet-edit-image-btn{position:absolute;background-color:#000000b3;color:#fff;border:2px solid white;border-radius:5px;padding:5px 10px;cursor:pointer;font-size:12px;transition:all .2s}.sheet-edit-image-btn:hover{background-color:gold;color:#000;border-color:gold}.sheet-header{grid-area:header;padding:10px}.sheet-link-btn{justify-content:end;text-decoration:none;background-color:#000000b3;color:#fff;border:2px solid white;border-radius:5px;padding:5px 10px;cursor:pointer;font-size:12px;transition:all .2s}.sheet-link-btn:hover{background-color:gold;color:#000;border-color:gold}.sheet-reload-btn{text-decoration:none;background-color:var(--color-accent-blue);color:#fff;border:2px solid var(--color-accent-blue);border-radius:5px;padding:5px 10px;cursor:pointer;font-size:12px;transition:all .2s}.sheet-reload-btn:hover{background-color:gold;color:#000;border-color:gold}.sheet-char-title{position:relative;background-color:#000000b3;color:#fff;margin:5px;padding:5px 10px;border-radius:5px;font-weight:700;font-size:14px}.sheet-basic-info{grid-area:basic;background:var(--color-background-1);border-left:4px solid gold;box-shadow:0 0 10px var(--color-8);border-radius:10px;margin:5px 10px;padding:10px;font-size:14px}.sheet-hint{grid-area:hint;padding:10px}.sheet-list-table{width:100%;border-collapse:collapse;font-size:12px}.sheet-list-table th,.sheet-list-table td{border-bottom:1px solid var(--color-border);padding:8px;text-align:left}.sheet-list-table th{background-color:var(--color-surface-1);position:sticky;top:0}.sheet-list-table tbody tr:hover{background-color:gold;color:#000;cursor:pointer}.sheet-enhancement{grid-area:enhancement}.sheet-memory{grid-area:memory}.sheet-regrets{grid-area:regrets}.sheet-skills{grid-area:skills}.sheet-parts{grid-area:parts}.sheet-personal-data{grid-area:personal}.sheet-section{background:var(--color-background-1);border-left:4px solid gold;box-shadow:0 0 10px var(--color-8);border-radius:10px;margin:5px 10px;padding:10px;font-size:14px}.sheet-section h4{border-bottom:1px solid var(--color-border);margin:0;font-size:20px}.sheet-input-group{display:grid;grid-template-columns:1fr 1fr;align-items:center}.sheet-input-group label{min-width:70px;padding:5px;font-weight:700;text-align:right}.sheet-input-group select,.sheet-input-group input,.sheet-textarea{background:var(--color-background-2);color:var(--color-text);border:1px solid var(--color-border);border-radius:5px;padding:3px}.sheet-parts-grid{font-size:1rem;grid-template-columns:1fr}.part-list-item{font-size:14px;margin:5px;padding:5px;border-radius:5px;background-color:var(--color-background-2)}.part-list-item .type{font-weight:700;color:var(--color-text-muted);width:80px}.sheet-textarea{resize:vertical;resize:inset;margin:5px;width:calc(100% - 15px);height:300px;min-height:100px}#simpleMenuModalBody{display:flex;flex-direction:column;align-content:start;align-items:center;gap:5px;margin:0;padding:0;box-sizing:border-box;overflow-y:auto;justify-content:start;height:auto}#simpleMenuModalBody .maneuver-item{width:auto;text-align:center}#simpleMenuModalFooter{display:flex;margin:0;padding:10px;border:none}.action-cost-form{display:flex;flex-direction:column;align-items:center;gap:10px}.action-cost-selector{display:flex;justify-content:center;gap:10px;width:auto;margin:10px 10px 5px;padding:10px;box-sizing:border-box;display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;border:1px solid var(--color-border);border-radius:10px}.action-cost-selector label{padding:10px 15px;border:2px solid gold;background-color:var(--color-level-1);border-radius:10px;cursor:pointer;font-weight:700;transition:all .2s;overflow:hidden}.action-cost-selector label:hover{background-color:gold}.action-cost-selector input[type=radio]{display:none}.action-cost-selector input[type=radio]:checked+span{background-color:gold;color:#000}.import-container{grid-column:1 / -1;margin:0;padding:10px;border-bottom:1px solid var(--color-level-1);text-align:center}.import-btn{width:200px;justify-content:center;margin:0;padding:10px;box-sizing:border-box;font-size:16px;font-weight:700;border-radius:5px;cursor:pointer;background-color:gold;color:#000;border:none}.import-btn:hover{opacity:.9}.modal-input-text{width:100%;padding:10px;font-size:1.2rem;box-sizing:border-box;text-align:center;background-color:var(--color-background-2);color:var(--color-text);border:1px solid var(--color-border);border-radius:5px}.modal-note{font-size:12px;color:var(--color-text-muted);text-align:center;margin-top:10px;min-height:1.2em}#damageModalBody{display:flex;flex-direction:column;gap:15px;grid-template-columns:none;justify-content:normal}.part-location-group.is-highlighted{box-shadow:0 0 10px gold;border:2px solid yellow}.image-select-grid{grid-column:1 / -1;display:flex;flex-wrap:wrap;grid-template-columns:repeat(auto-fill,var(--list-item-size));gap:5px;padding:27px 26px;overflow-y:auto;justify-content:space-evenly}.image-select-item{width:var(--list-item-size);border-radius:10px;cursor:pointer;text-align:center;transition:all .2s;justify-content:center;border:2px solid transparent}.image-select-item:hover{background-color:#fff3;border-color:gold;transform:scale(1.5)}.image-select-item img{width:var(--list-item-size);height:var(--list-item-size);aspect-ratio:1 / 1;object-fit:contain}.import-method-selector{margin:10px;padding:0;box-sizing:border-box;height:auto;display:grid;grid-template-columns:1fr 1fr 1fr;border:1px solid var(--color-border);border-radius:20px;overflow:hidden;font-weight:700}.import-method-selector input[type=radio]{display:none}.import-method-selector label{flex:1;text-align:center;padding:8px;background-color:var(--color-surface-1);cursor:pointer;transition:all .2s}.import-method-selector input[type=radio]:checked+label{background-color:gold;color:#000}.sheet-list-container{max-height:70vh;overflow-y:auto;font-size:16px}.pc-name-in-list{font-size:14px;color:var(--color-text-muted)}.sheet-list-table tbody tr:hover .pc-name-in-list{color:#000}#import-by-id-content .import-btn{width:100%;margin-top:10px}.loader{text-align:center;padding:20px}.local-image-upload-container{grid-column:1 / -1;padding:10px;margin-bottom:10px;border-bottom:1px solid var(--color-border);text-align:center;display:flex;flex-direction:column;align-items:center;gap:10px}.local-image-upload-btn{background-color:var(--color-accent-blue);color:var(--color-text-light);border:none;border-radius:5px;padding:8px 15px;font-size:14px;font-weight:700;cursor:pointer;transition:background-color .2s}.local-image-upload-btn:hover{background-color:var(--color-accent-cyan);color:#000}#simpleMenuModal .image-select-grid{grid-column:1 / -1;display:flex;flex-wrap:wrap;gap:5px;padding:10px;overflow-y:auto;justify-content:center;max-height:60vh}.image-upload-note{font-size:12px;color:var(--color-text-muted);text-align:center;margin:8px 0 0;padding:0}.button-group{display:flex;gap:10px}.local-image-clear-btn{background-color:var(--color-accent-red);color:var(--color-text-light);border:none;border-radius:5px;padding:8px 15px;font-size:14px;font-weight:700;cursor:pointer;transition:opacity .2s}.local-image-clear-btn:hover{opacity:.8}.attack-confirm-summary{font-size:1.1rem;font-weight:700;text-align:center;padding:10px;border-bottom:1px solid var(--color-border);margin-bottom:10px}.attack-confirm-section{margin-bottom:10px}.attack-confirm-section .section-header{font-weight:700;font-size:.9rem;color:var(--color-text-muted);margin-bottom:5px;padding-left:5px}.modifier-list{background-color:var(--color-surface-1);border-radius:5px;padding:8px;font-size:14px}.modifier-item{padding:2px 0}.modifier-none{color:var(--color-text-muted);font-style:italic;text-align:center}#simpleMenuModalBody.attack-confirm-body{display:block}.loading-overlay-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--color-shade-1);backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);z-index:10001;display:none;justify-content:center;align-items:center;opacity:0;transition:all 1s ease}.loading-overlay-backdrop.is-visible{display:flex;opacity:1}.loading-content{display:flex;flex-direction:column;align-items:center;gap:15px;color:var(--color-fore-1);text-shadow:0 1px 3px var(--color-background-1)}#loading-message{font-size:18px;font-weight:700}.progress-bar-track{width:300px;height:20px;background-color:var(--color-background-2);border-radius:10px;border:1px solid var(--color-8);overflow:hidden}.progress-bar-fill{width:0%;height:100%;background-color:gold;border-radius:10px;transition:width .4s ease-out}.damage-calc-section{margin-bottom:10px}.damage-calc-section .section-header{font-weight:700;font-size:.9rem;color:var(--color-text-muted);margin-bottom:5px;padding-left:5px}.sheet-memory p{display:flex;justify-content:space-between;align-items:flex-start;gap:0px}.sheet-memory .memory-text-container{flex-grow:1}.copy-description-btn{flex-shrink:0;background:none;border:none;border-radius:5px;color:var(--color-8);cursor:pointer;font-size:18px;margin:0;padding:0;line-height:1;transition:all .2s;align-self:end}.copy-description-btn:hover{background-color:var(--color-surface-1);color:var(--color-text)}.copy-description-btn:active{transform:scale(.9)}.sheet-user-memo{color:var(--color-text-muted);font-size:.9em}.settings-content{padding:5px}.theme-switcher-container{display:flex;justify-content:space-around;align-items:center;background-color:var(--color-surface-dark);border-radius:40px;padding:3px}.theme-switcher-container label{flex:1;text-align:center;padding:3px;cursor:pointer;font-size:14px;font-weight:700;color:var(--color-text-muted);border-radius:5px;transition:all .2s ease-in-out}.theme-switcher-container input[type=radio]{display:none}.theme-switcher-container input[type=radio]:checked+span{background-color:var(--color-surface-1);color:var(--color-text);padding:2px 10px;border-radius:20px}#session-controls{display:grid;grid-template-columns:1fr 1fr;gap:5px}.session-btn{font-size:12px;width:100%;padding:5px 3px;margin:0;border-radius:30px;cursor:pointer;font-weight:700;border:1px solid var(--color-border);background-color:var(--color-surface-1);color:var(--color-text);transition:background-color .2s}.session-btn:hover{background-color:gold;color:#000}.session-btn-danger{background-color:var(--color-accent-red);color:#fff;border-color:var(--color-accent-red)}.session-btn-danger:hover{color:var(--color-accent-red)}.welcome-modal-content{max-width:500px;background-color:var(--color-background-3);color:var(--color-text);border-radius:10px;overflow:hidden;box-shadow:0 0 20px var(--color-fore-7);width:90%;max-width:700px;max-height:90%;height:auto;margin:20px;padding:10px;gap:0;box-sizing:border-box;display:flex;flex-direction:column;flex-wrap:nowrap;align-content:center;justify-content:flex-start;align-items:stretch;position:absolute;pointer-events:auto;transform:translateY(80%);opacity:.2;transition:all .2s ease-out}.modal-header-main{font-size:1.2rem;font-weight:700;text-align:center;margin:0;padding:0;box-sizing:border-box}.modal-header-sub{font-size:15px;font-weight:700;margin:0;padding:10px;box-sizing:border-box}.welcome-modal-body{display:flex;flex-direction:column;flex-wrap:nowrap;align-content:center;justify-content:flex-start;align-items:stretch;line-height:1.5;font-size:14px;margin:10px;padding:5px;height:auto;gap:0;border-radius:10px;background-color:var(--color-level-f);box-shadow:0 0 7px inset var(--color-fore-7)}.welcome-modal-body p{margin:0;padding:10px}.contact-info-list{list-style:none;font-size:15px}.author-signature{text-align:right;font-weight:700;color:var(--color-text-muted)}.welcome-modal-close-btn{width:80%;margin:5px;padding:10px;font-size:16px;font-weight:700;border-radius:10px;cursor:pointer;background-color:gold;color:#000;border:none;transition:all .2s}.welcome-modal-close-btn:hover{background-color:#ff0}.toast-notification{position:fixed;top:50%;left:50%;min-width:300px;transform:translate(-50%,-50%);background-color:#000c;color:#fff;padding:15px 30px;border-radius:10px;box-shadow:0 4px 15px #00000080;font-size:1.5rem;font-weight:700;text-align:center;z-index:10000;pointer-events:none;opacity:0;visibility:hidden;transition:opacity .4s ease,visibility .4s}.toast-notification.is-visible{opacity:1;visibility:visible;pointer-events:auto}
